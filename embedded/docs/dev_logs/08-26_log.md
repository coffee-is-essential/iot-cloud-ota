# 8월 26일 개발 로그

## 1. 디버깅 & 기능 추가

- 우선 다른 것보다 어제 다 못 끝낸 부분 마무리하고 뭘 하든지 해야함

- 오늘 첫 번째 빌드 포함 사항

    - [x] UI의 TextArea는 외부 `network_task`에서 메시지 큐를 통해 접근하는 것으로 변경

        - [x] Wi-Fi 연결 기능 자체(connect, restore)를 별도의 태스크로 분리하고, 관련 메시지를 큐에 추가

            - [x] 연결 성공 시 JSON에 관련 정보 저장

        - [x] `ui_events.cpp`에 큐로부터 메시지를 읽어 TextArea에 추가하는 로직을 lvgl 타이머로 추가


## 2. OTA 구현

- 우여곡절 끝에 네트워크 기능을 완성했으니 이 기능을 이용하여 OTA를 구현한다

- 아직 MQTT 기능이 구현된 상태가 아니므로, MQTT 기능을 완성하기전에는 debug 스크린에서 수동으로 OTA를 진행하는 것으로 한다

- 0.0.3 버전에는 OTA 기본 구현, 0.0.4 버전에는 OTA 롤백 기능 포함하여 OTA 보안 구현

- 0.0.3 버전 빌드 포함 사항

    - [x] IPC 기능 분리

    - [x] debug 기능 구현

    - [ ] HTTP를 통한 펌웨어 파일 SD 카드 저장

        - [x] debug 로그 더 자세히 출력

        - [x] 전체적으로 cJSON nullptr fail 처리

        - [x] 다운로드하려는 파일이 이미 존재하는 경우 처리 로직 추가

        - [ ] 시리얼 로그 전체적으로 정리

    - [ ] ota_1 파티션에 업데이트 펌웨어 로드 및 재부팅


## 오늘 작업 마무리 시 해야할 일

- [ ] 저장소 업데이트

- [ ] 필요 하드웨어 정리
